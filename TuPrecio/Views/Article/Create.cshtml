@model TuPrecio.Models.ViewModels.ArticleViewModel
@{
    ViewBag.Title = "Create";
    var mapsKey = System.Configuration.ConfigurationManager.AppSettings["GoogleMapsAPIKey"];
}

<style>
    html { height: 100% }
    body { height: 100%; margin: 0px; padding: 0px }
    #map_canvas {
        width: 100%;
        height: 400px;
        background-color: #CCC;
    }
</style>

@using(Html.BeginForm("Create", "Article", FormMethod.Post))
{
    <div class="row">
        <div class="medium-6 columns">
            <label>Nombre del artículo
            @Html.TextBoxFor(m => m.Name, new { placeholder = "(e.g.: Pan Integral)" })
            </label>
        </div>
        <div class="medium-6 columns">
            <label>Precio
            @Html.TextBoxFor(m => m.Price, new { placeholder = "(e.g.: 20)" })
            </label>
        </div>
    </div>
    <div class="row">
        <div class="medium-6 columns">
            <label>Nombre del negocio
            @Html.TextBoxFor(m => m.BusinnesName, new { placeholder = "(e.g.: Colmado Pérez)" })
            </label>
        </div>
        <div class="medium-6 columns">
            <label>Dirección del negocio
            @Html.TextBoxFor(m => m.Address, new { placeholder = "Dirección" })
            </label>
            <p class="help-text" id="addressHelpText">Tip: Usa el mapa para obtener la dirección</p>
        </div>
    </div>
    <div class="row">
        <div class="medium-10 medium-text-center" style="margin: 0 auto;">
            <div id="map_canvas" style="width: 100%; height: 400px;"></div>
        </div>
    </div>
}

@section scripts {
<script src="https://maps.googleapis.com/maps/api/js?key=@(mapsKey)"></script>
<script>
    function initMap() {
        var mapDiv = document.getElementById('map_canvas');
        var map = new google.maps.Map(mapDiv, { zoom: 8 });
    }
    google.maps.event.addDomListener(window, "load", initMap);
</script>

}

